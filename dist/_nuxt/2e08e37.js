(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{214:function(t,e,o){o(215),t.exports=o(216)},255:function(t,e,o){"use strict";o.r(e),e.default=function(t){t.store.getters.isAuthenticated||t.redirect("/user/login")}},256:function(t,e,o){"use strict";o.r(e),e.default=function(t){t.store.dispatch("initAuth",t.req)}},283:function(t,e,o){var content=o(284);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(90).default)("0090b742",content,!0,{sourceMap:!1})},284:function(t,e,o){var r=o(89)((function(i){return i[1]}));r.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,700,500italic,900,700italic,900italic);"]),r.push([t.i,"@import url(//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css);"]),r.push([t.i,':root{--tufts-blue:#4a89dc;--dazzled-blue:#34609a;--jasper:#da373c;--vivid-auburn:#8b2326;--white:#fff;--chinese-white:#e0e0e0;--anti-white:#f2f2f2;--chinese-silver:#ccc;--grey:grey;--dark-charcoal:#333;--bg-opacity:0.5;--forHeader:22px;--forParagraph:14px;--ffRoboto:"Roboto",sans-serif;--fwLight:300;--fwReguler:400;--fwMedium:500;--fwBold:700;--fwExtraBold:800}*{box-sizing:border-box;font-family:Roboto,Arial,Helvetica,sans-serif;transition:all .3s;-webkit-transition:all .1s;-moz-transition:all .1s;-ms-transition:all .1s;-o-transition:all .1s}body{background-color:#f2f2f2;background-color:var(--anti-white);height:100%;margin:0;padding-bottom:100px;width:100%}a,h1{color:#333;color:var(--dark-charcoal);font-weight:300;font-weight:var(--fwLight);-webkit-text-decoration:none;text-decoration:none}li,p,ul{color:grey;color:var(--grey);font-size:14px;font-size:var(--forParagraph);font-weight:300;font-weight:var(--fwLight)}p a{-webkit-text-decoration:underline;text-decoration:underline}blockquote{border-left:3px solid #e0e0e0;border-left:3px solid var(--chinese-white);margin:0;padding-left:10px;width:100%}',""]),r.locals={},t.exports=r},285:function(t,e,o){"use strict";o.r(e),o.d(e,"state",(function(){return m})),o.d(e,"getters",(function(){return h})),o.d(e,"mutations",(function(){return w})),o.d(e,"actions",(function(){return v}));o(38),o(30),o(50),o(31),o(51);var r=o(23),n=o(8),c=(o(48),o(37),o(14),o(286),o(194),o(213),o(135),o(288),o(67)),l=o.n(c);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m=function(){return{portfolioList:[],portfolioDetail:null,token:null,userData:null}},h={portfolioData:function(t){return t.portfolioList},isAuthenticated:function(t){return null!=t.token},userId:function(t){return t.userData?t.userData.userId:null},userEmail:function(t){return t.userData?t.userData.email:""}},w={addNewPortfolio:function(t,e){t.portfolioList.push(e)},getPortfolioList:function(t,e){t.portfolioList=e},getPortfolioDetail:function(t,e){t.portfolioDetail=e},setToken:function(t,e){t.token=e},setUserData:function(t,e){t.userData=e},deleteLocalPortfolio:function(t,e){var o=t.portfolioList.filter((function(t){return t.id!==e}));t.portfolioList=o}},v={getPortfolioList:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var r,n,c,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=t.commit,o.next=3,e.$axios.$get("https://spacial-445bd-default-rtdb.firebaseio.com/portfolio.json");case 3:for(l in n=o.sent,c=[],n)c.push(d(d({},n[l]),{},{id:l}));r("getPortfolioList",c);case 7:case"end":return o.stop()}}),o)})))()},addPortfolio:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.state,r.next=3,o.$axios.$post("https://spacial-445bd-default-rtdb.firebaseio.com/portfolio.json?auth="+n.token,d(d({},e),{},{userId:n.userData.userId,userName:n.userData.username,dataLikes:["null"]}));case 3:case"end":return r.stop()}}),r)})))()},getPortfolioDetail:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.commit,r.next=3,o.$axios.$get("https://spacial-445bd-default-rtdb.firebaseio.com/portfolio/"+e+".json");case 3:return c=r.sent,n("getPortfolioDetail",c),r.abrupt("return",c);case 6:case"end":return r.stop()}}),r)})))()},authenticateUser:function(t,e){var o=t.commit,r=e.isLogin?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=";return this.$axios.$post(r+"AIzaSyDtwnQQqLlb7_vIXTcqGASqaRY_DjmqUno",{email:e.email,password:e.password,displayName:e.displayName,returnSecureToken:!0}).then((function(t){o("setToken",t.idToken),o("setUserData",{username:t.displayName,userId:t.localId,email:t.email}),localStorage.setItem("token",t.idToken),l.a.set("jwt",t.idToken),localStorage.setItem("tokenExpiration",(new Date).getTime()+Number.parseInt(1e3*t.expiresIn)),l.a.set("expirationDate",(new Date).getTime()+Number.parseInt(1e3*t.expiresIn));var e={username:t.displayName,userId:t.localId,email:t.email};localStorage.setItem("user",JSON.stringify(e)),l.a.set("acc_user",JSON.stringify(e))})).catch((function(t){console.log(t)}))},initAuth:function(t,e){var o,r,n,c=t.commit,l=t.dispatch;if(e){if(!e.headers.cookie)return;var f=e.headers.cookie.split(";").find((function(t){return t.trim().startsWith("jwt=")})),d=e.headers.cookie.split(";").find((function(t){return t.trim().startsWith("acc_user=")})),m=d.substr(d.indexOf("=")+1);if(o=JSON.parse(decodeURIComponent(m)),!f)return;r=f.split("=")[1],n=e.headers.cookie.split(";").find((function(t){return t.trim().startsWith("expirationDate")})).split("=")[1]}else r=localStorage.getItem("token"),o=JSON.parse(localStorage.getItem("user")),n=localStorage.getItem("tokenExpiration");if((new Date).getTime()>+n||!r)return console.log("Invalid Token"),void l("logout");c("setToken",r),c("setUserData",o)},logout:function(t){(0,t.commit)("setToken",null),l.a.remove("jwt"),l.a.remove("acc_user"),localStorage.removeItem("token"),localStorage.removeItem("user")},likeUpdate:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.state,c="https://spacial-445bd-default-rtdb.firebaseio.com/portfolio/"+e.portfolioId+".json?auth="+n.token,r.next=4,o.$axios.$put(c,e.newDataPortfolio);case 4:case"end":return r.stop()}}),r)})))()},updatePortfolio:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.dispatch,n=t.state,c="https://spacial-445bd-default-rtdb.firebaseio.com/portfolio/"+e.id+".json?auth="+n.token,r.next=4,o.$axios.$put(c,e.newPortfolio);case 4:case"end":return r.stop()}}),r)})))()},deletePost:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.commit,c=t.state,l="https://spacial-445bd-default-rtdb.firebaseio.com/portfolio/"+e+".json?auth="+c.token,r.next=4,o.$axios.$delete(l);case 4:n("deleteLocalPortfolio",e);case 5:case"end":return r.stop()}}),r)})))()}}}},[[214,17,1,18]]]);